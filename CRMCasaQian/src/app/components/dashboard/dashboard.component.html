<div class="p-8 max-w-7xl mx-auto">
  <div class="text-center mb-8">
    <h1 class="text-brand-blue text-4xl font-bold m-0">ğŸ² Casa Qian - Hotpot Restaurant</h1>
    <p class="text-gray-600 text-lg">Panel de Control CRM</p>
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6 mb-8" *ngIf="authService.isAdmin()">
    <div class="bg-white rounded-xl p-6 shadow-md flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-lg border-l-4 border-brand-gold">
      <div class="text-5xl">ğŸ‘¥</div>
      <div class="flex flex-col">
        <h3 class="text-3xl font-bold text-brand-blue m-0">{{ totalClientes }}</h3>
        <p class="text-gray-600 text-sm m-0">Total Clientes</p>
      </div>
    </div>

    <div class="bg-white rounded-xl p-6 shadow-md flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-lg border-l-4 border-brand-gold">
      <div class="text-5xl">â­</div>
      <div class="flex flex-col">
        <h3 class="text-3xl font-bold text-brand-blue m-0">{{ clientesVIP }}</h3>
        <p class="text-gray-600 text-sm m-0">Clientes VIP</p>
      </div>
    </div>

    <div class="bg-white rounded-xl p-6 shadow-md flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-lg border-l-4 border-brand-gold">
      <div class="text-5xl">ğŸ“…</div>
      <div class="flex flex-col">
        <h3 class="text-3xl font-bold text-brand-blue m-0">{{ reservasHoy }}</h3>
        <p class="text-gray-600 text-sm m-0">Reservas Hoy</p>
      </div>
    </div>

    <div class="bg-white rounded-xl p-6 shadow-md flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-lg border-l-4 border-brand-gold">
      <div class="text-5xl">ğŸœ</div>
      <div class="flex flex-col">
        <h3 class="text-3xl font-bold text-brand-blue m-0">{{ pedidosHoy }}</h3>
        <p class="text-gray-600 text-sm m-0">Pedidos Hoy</p>
      </div>
    </div>

    <div class="bg-white rounded-xl p-6 shadow-md flex items-center gap-4 transition-transform hover:-translate-y-1 hover:shadow-lg border-l-4 border-brand-gold">
      <div class="text-5xl">ğŸ’°</div>
      <div class="flex flex-col">
        <h3 class="text-3xl font-bold text-brand-blue m-0">{{ ventasHoy | number:'1.2-2' }}â‚¬</h3>
        <p class="text-gray-600 text-sm m-0">Ventas Hoy</p>
      </div>
    </div>
  </div>

  <div class="bg-white rounded-xl p-12 text-center shadow-md mb-8 border-t-4 border-brand-gold" *ngIf="!authService.isAdmin()">
    <h2 class="text-brand-blue text-3xl mb-4">Bienvenido a Casa Qian</h2>
    <p class="mb-8">Disfruta de la mejor experiencia Hotpot.</p>
    <div class="flex justify-center gap-6 mt-8">
      <a routerLink="/reservas/nueva" class="bg-brand-red text-white px-8 py-4 rounded-lg font-bold hover:bg-red-800 transition-colors no-underline shadow-md">Hacer una Reserva</a>
      <a routerLink="/productos" class="bg-brand-blue text-white px-8 py-4 rounded-lg font-bold hover:bg-slate-800 transition-colors no-underline shadow-md">Ver Carta</a>
    </div>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8" *ngIf="authService.isAdmin()">
    <div class="bg-white rounded-xl p-6 shadow-md border-t-4 border-brand-blue">
      <div class="flex justify-between items-center mb-4 pb-4 border-b-2 border-gray-100">
        <h2 class="text-xl font-bold text-brand-blue m-0">ğŸ“‹ Reservas de Hoy</h2>
        <a routerLink="/reservas" class="text-brand-gold text-sm font-medium hover:underline">Ver todas</a>
      </div>
      <div class="flex flex-col gap-3">
        <div *ngFor="let reserva of ultimasReservas" class="flex justify-between items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors border-l-4 border-transparent hover:border-brand-gold">
          <div class="flex flex-col gap-1">
            <strong class="text-gray-800">{{ reserva.nombreCliente }}</strong>
            <span class="text-sm text-gray-500">{{ reserva.hora }} - {{ reserva.numeroPersonas }} personas</span>
          </div>
          <span [class]="'px-3 py-1 rounded-full text-xs font-bold uppercase ' + 
            (reserva.estado === 'pendiente' ? 'bg-yellow-100 text-yellow-800' : 
             reserva.estado === 'confirmada' ? 'bg-green-100 text-green-800' : 
             reserva.estado === 'cancelada' ? 'bg-red-100 text-red-800' : 'bg-gray-100 text-gray-800')">
            {{ reserva.estado }}
          </span>
        </div>
        <div *ngIf="ultimasReservas.length === 0" class="text-center p-8 text-gray-400 italic">
          No hay reservas para hoy
        </div>
      </div>
    </div>

    <div class="bg-white rounded-xl p-6 shadow-md border-t-4 border-brand-blue">
      <div class="flex justify-between items-center mb-4 pb-4 border-b-2 border-gray-100">
        <h2 class="text-xl font-bold text-brand-blue m-0">ğŸ½ï¸ Pedidos Recientes</h2>
        <a routerLink="/pedidos" class="text-brand-gold text-sm font-medium hover:underline">Ver todos</a>
      </div>
      <div class="flex flex-col gap-3">
        <div *ngFor="let pedido of ultimosPedidos" class="flex justify-between items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors border-l-4 border-transparent hover:border-brand-gold">
          <div class="flex flex-col gap-1">
            <strong class="text-gray-800">{{ pedido.nombreCliente }}</strong>
            <span class="text-sm text-gray-500">Mesa {{ pedido.mesaId }} - {{ pedido.total | number:'1.2-2' }}â‚¬</span>
          </div>
          <span [class]="'px-3 py-1 rounded-full text-xs font-bold uppercase ' + 
            (pedido.estado === 'pendiente' ? 'bg-yellow-100 text-yellow-800' : 
             pedido.estado === 'servido' || pedido.estado === 'pagado' ? 'bg-green-100 text-green-800' : 
             pedido.estado === 'cancelado' ? 'bg-red-100 text-red-800' : 
             pedido.estado === 'preparando' ? 'bg-blue-100 text-blue-800' : 'bg-gray-100 text-gray-800')">
            {{ pedido.estado }}
          </span>
        </div>
        <div *ngIf="ultimosPedidos.length === 0" class="text-center p-8 text-gray-400 italic">
          No hay pedidos hoy
        </div>
      </div>
    </div>
  </div>

  <div class="bg-white rounded-xl p-6 shadow-md border-t-4 border-brand-gold">
    <h2 class="text-xl font-bold text-brand-blue mb-6 text-center">âš¡ Acciones RÃ¡pidas</h2>
    <div class="flex flex-wrap justify-center gap-6">
      <a routerLink="/profile" class="flex items-center justify-center gap-3 p-6 w-full sm:w-64 bg-brand-blue text-white rounded-lg font-semibold transition-all hover:-translate-y-1 hover:shadow-lg no-underline hover:bg-slate-800 border border-brand-blue">
        <span class="text-2xl">âœï¸</span>
        <span>Editar Perfil</span>
      </a>
      
      <a routerLink="/users" class="flex items-center justify-center gap-3 p-6 w-full sm:w-64 bg-brand-blue text-white rounded-lg font-semibold transition-all hover:-translate-y-1 hover:shadow-lg no-underline hover:bg-slate-800 border border-brand-blue" *ngIf="authService.isAdmin()">
        <span class="text-2xl">ğŸ‘¥</span>
        <span>GestiÃ³n Usuarios</span>
      </a>

      <a routerLink="/clientes/nuevo" class="flex items-center justify-center gap-3 p-6 w-full sm:w-64 bg-brand-blue text-white rounded-lg font-semibold transition-all hover:-translate-y-1 hover:shadow-lg no-underline hover:bg-slate-800 border border-brand-blue" *ngIf="authService.isAdmin()">
        <span class="text-2xl">ğŸ‘¤</span>
        <span>Nuevo Cliente</span>
      </a>
      <a routerLink="/reservas/nueva" class="flex items-center justify-center gap-3 p-6 w-full sm:w-64 bg-brand-red text-white rounded-lg font-semibold transition-all hover:-translate-y-1 hover:shadow-lg no-underline hover:bg-red-900 border border-brand-red">
        <span class="text-2xl">ğŸ“…</span>
        <span>Nueva Reserva</span>
      </a>
      <a routerLink="/pedidos/nuevo" class="flex items-center justify-center gap-3 p-6 w-full sm:w-64 bg-brand-red text-white rounded-lg font-semibold transition-all hover:-translate-y-1 hover:shadow-lg no-underline hover:bg-red-900 border border-brand-red">
        <span class="text-2xl">ğŸœ</span>
        <span>Nuevo Pedido</span>
      </a>
      <a routerLink="/productos" class="flex items-center justify-center gap-3 p-6 w-full sm:w-64 bg-brand-blue text-white rounded-lg font-semibold transition-all hover:-translate-y-1 hover:shadow-lg no-underline hover:bg-slate-800 border border-brand-blue" *ngIf="authService.isAdmin()">
        <span class="text-2xl">ğŸ¥˜</span>
        <span>Gestionar MenÃº</span>
      </a>
    </div>
  </div>
</div>
