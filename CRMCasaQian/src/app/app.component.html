<div class="min-h-screen flex flex-col bg-brand-light">
  <!-- Navbar -->
  <nav class="bg-brand-blue text-white px-6 py-4 shadow-lg sticky top-0 z-50 flex justify-between items-center border-b-4 border-brand-gold" *ngIf="authService.currentUser$ | async as user">
    <div class="flex items-center gap-3">
      <img src="/images/CasaQianLogo.png" alt="Casa Qian Logo" class="h-16 w-16 rounded-full border-2 border-brand-gold shadow-sm object-cover shrink-0">
      <div class="flex flex-col">
        <h1 class="m-0 text-2xl font-bold text-brand-gold">Casa Qian CRM</h1>
        <p class="m-0 text-sm opacity-90 text-gray-300">Hotpot Restaurant</p>
      </div>
    </div>
    <button class="md:hidden text-brand-gold text-2xl p-2 focus:outline-none" (click)="toggleMenu()">
      â˜°
    </button>
    <div class="hidden md:flex gap-4 items-center" [class.flex]="menuAbierto" [class.flex-col]="menuAbierto" [class.absolute]="menuAbierto" [class.top-full]="menuAbierto" [class.left-0]="menuAbierto" [class.w-full]="menuAbierto" [class.bg-brand-blue]="menuAbierto" [class.p-4]="menuAbierto" [class.shadow-xl]="menuAbierto" [class.border-b-4]="menuAbierto" [class.border-brand-gold]="menuAbierto">
      <a routerLink="/dashboard" routerLinkActive="bg-brand-gold text-brand-blue shadow-md" class="flex items-center gap-2 px-4 py-2 text-white no-underline rounded-lg font-semibold transition-all duration-300 hover:bg-white/10 hover:text-brand-gold hover:-translate-y-0.5" (click)="menuAbierto = false">
        <span class="text-lg">ğŸ“Š</span>
        <span>Dashboard</span>
      </a>
      
      <!-- Admin Only Links -->
      <ng-container *ngIf="user.role === 'ADMIN'">
        <a routerLink="/users" routerLinkActive="bg-brand-gold text-brand-blue shadow-md" class="flex items-center gap-2 px-4 py-2 text-white no-underline rounded-lg font-semibold transition-all duration-300 hover:bg-white/10 hover:text-brand-gold hover:-translate-y-0.5" (click)="menuAbierto = false">
          <span class="text-lg">ğŸ‘¥</span>
          <span>Usuarios</span>
        </a>
        <a routerLink="/clientes" routerLinkActive="bg-brand-gold text-brand-blue shadow-md" class="flex items-center gap-2 px-4 py-2 text-white no-underline rounded-lg font-semibold transition-all duration-300 hover:bg-white/10 hover:text-brand-gold hover:-translate-y-0.5" (click)="menuAbierto = false">
          <span class="text-lg">ğŸ‘¥</span>
          <span>Clientes</span>
        </a>
        <a routerLink="/productos" routerLinkActive="bg-brand-gold text-brand-blue shadow-md" class="flex items-center gap-2 px-4 py-2 text-white no-underline rounded-lg font-semibold transition-all duration-300 hover:bg-white/10 hover:text-brand-gold hover:-translate-y-0.5" (click)="menuAbierto = false">
          <span class="text-lg">ğŸ¥˜</span>
          <span>Gestionar MenÃº</span>
        </a>
      </ng-container>

      <a routerLink="/reservas" routerLinkActive="bg-brand-gold text-brand-blue shadow-md" class="flex items-center gap-2 px-4 py-2 text-white no-underline rounded-lg font-semibold transition-all duration-300 hover:bg-white/10 hover:text-brand-gold hover:-translate-y-0.5" (click)="menuAbierto = false">
        <span class="text-lg">ğŸ“…</span>
        <span>Reservas</span>
      </a>


      <a routerLink="/profile" routerLinkActive="bg-brand-gold text-brand-blue shadow-md" class="flex items-center gap-2 px-4 py-2 text-white no-underline rounded-lg font-semibold transition-all duration-300 hover:bg-white/10 hover:text-brand-gold hover:-translate-y-0.5" (click)="menuAbierto = false">
        <span class="text-lg">âœï¸</span>
        <span>Perfil</span>
      </a>

      <a (click)="logout()" class="flex items-center gap-2 px-4 py-2 text-white no-underline rounded-lg font-semibold transition-all duration-300 bg-brand-red hover:bg-red-900 hover:-translate-y-0.5 cursor-pointer border border-brand-red">
        <span class="text-lg">ğŸšª</span>
        <span>Salir</span>
      </a>
    </div>
  </nav>

  <!-- Contenido principal -->
    <!-- Main Content -->
  <main class="flex-1 p-6 max-w-7xl mx-auto w-full animate-fade-in">
    <router-outlet></router-outlet>
  </main>

  <!-- Footer -->
  <footer class="bg-brand-blue text-white text-center py-6 mt-auto border-t-4 border-brand-gold">
    <p class="m-0 text-sm opacity-80">&copy; 2024 Casa Qian Hotpot. Todos los derechos reservados.</p>
  </footer>

  <!-- Chatbot IA -->
  <app-chatbot *ngIf="authService.currentUser$ | async"></app-chatbot>
</div>